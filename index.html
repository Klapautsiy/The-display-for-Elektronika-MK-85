
<!DOCTYPE html>

<html>

<head lang="ru">
<!-- <head> -->

<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<meta name="keywords" content="Электроника МК-85, Elektronika MK-85, Arduino, LCD1602">

<meta name="description" content="Дисплей для "Электроника МК-85".">

<title>Дисплей для "Электроника МК-85"</title>

</head>

<body>

<style>body {background: #333333; color: #E6E6E6;}</style>

<pre>

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Дисплей для "Электроника МК-85".
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


элементы питания из калькулятора извлечены.
работа калькулятора с элементами питания на данном этапе разработки не предусмотрена.

Напряжение питания процессора калькулятора 5.0V.
------------------------------------------------------

электрическая схема блока питания:

<img src="pictures/MK-85_scheme_Power_Supply.png" width="800">

диод D1 - КД521А
или
диод D1 блока питания и диод VD1 калькулятора - кремниевые с одной партии.


Дисплей.
------------------------------------------------------

электрическая схема дисплея:

<img src="pictures/MK-85_scheme_atmega16_LCD1602.png" width="800">

т.к. на этапе разработки привязан к USB, то организация питания следующая:
- блок 1 запитан от USB (5.0V).
- блок 2 запитан от pin 64 процессора калькулятора (5.0V).
- калькулятор запитан от блока питания (5.7V).


Конфигурация фьюзов контроллера Atmega16.
------------------------------------------------------

- подключить программатор USBasp и кварцевый резонатор к контроллеру.
- выполнить: avrdude -p atmega16 -c USBasp -U hfuse:w:0xd9:m -U lfuse:w:0xff:m
...или, иным образом пошить фьюзы.


Интеграция проекта в Arduino IDE.
------------------------------------------------------

в файл boards.txt добавить секцию:

#######################################

M16_16.name = Atmega16 - 16MHz

M16_16.upload.tool = avrdude
M16_16.upload.maximum_size = 16384
M16_16.upload.maximum_data_size = 1024

M16_16.build.mcu = atmega16
M16_16.build.f_cpu = 16000000L
M16_16.build.core = arduino
M16_16.build.variant = pins_atmega16

#######################################

<body link="#44CC00" alink="#44CC00" vlink="#44CC00"><a href="https://github.com/Klapautsiy/The-display-for-Elektronika-MK-85">взять отсюда папки</a></body>
в папку *\variants\ скопировать папку pins_atmega16\.
в папку со скетчами скопировать папку MK-85_LCD1602\.

перезагрузить Arduino IDE, выбрать плату "Atmega16 - 16MHz", выбрать программатор,
открыть скетч, загрузить с помощью программатора.


Результат.
------------------------------------------------------

<img src="pictures/MK-85_LCD1602.gif">


</pre>

</body>

</html>
