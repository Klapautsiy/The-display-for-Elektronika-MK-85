
<!DOCTYPE html>

<html>

<head lang="ru">

<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<meta name="keywords" content="Электроника МК-85, Elektronika MK-85, Arduino, OLED1602">

<meta name="description" content="Дисплей для "Электроника МК-85".">

<title>Дисплей для "Электроника МК-85"</title>

</head>

<body>

<style>body {background: #333333; color: #E6E6E6;}</style>

<pre>

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Дисплей для "Электроника МК-85".
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


элементы питания из калькулятора извлечены.
работа калькулятора с элементами питания на данном этапе разработки не предусмотрена.
блоки 1, 2 запитаны от конденсатора C9 платы МК-85.

Напряжение питания процессора калькулятора 5.0V.
------------------------------------------------------

электрическая схема блока питания:

<img src="pictures/MK-85_scheme_Power_Supply.png" width="500">

диод D1 - КД521А
или
диод D1 блока питания и диод VD1 калькулятора - кремниевые с одной партии.


Дисплей.
------------------------------------------------------

<img src="pictures/MK-85_scheme_CD4094BE_ATmega8_OLED1602.png" width="800">
подключение к плате МК-85:

питание                                                   шина передачи данных
C9: pin -                                                 D6: pin 1  AD
C9: pin +                                                 D6: pin 2  SYNC
                                                          D6: pin 62 SHIFT

<img src="pictures/MK85_PCB_C9.png" width="396" align="top"> <img src="pictures/MK85_PCB_SHIFT_SYNC_AD.png" width="396">


Конфигурация фьюзов контроллера ATmega8.
------------------------------------------------------

- подключить программатор USBasp и кварцевый резонатор к контроллеру.
<!-- - выполнить: avrdude -p atmega16 -c USBasp -U hfuse:w:0xd9:m -U lfuse:w:0xff:m -->
выполнить: avrdude -p atmega8 -c usbasp -U hfuse:w:0xd9:m -U lfuse:w:0xe4:m
...или, иным образом прошить фьюзы.


Интеграция проекта в Arduino IDE.
------------------------------------------------------

в файл boards.txt добавить секцию:

#######################################
M8_8.name = ATmega8 - 8MHz
M8_8.upload.tool = avrdude
M8_8.upload.maximum_size = 8192
M8_8.upload.maximum_data_size = 1024
M8_8.build.mcu = atmega8
M8_8.build.f_cpu = 8000000L
M8_8.build.core = arduino
M8_8.build.variant = pins_atmega8
#######################################

<body link="#44CC00" alink="#44CC00" vlink="#44CC00"><a href="https://github.com/Klapautsiy/The-display-for-Elektronika-MK-85">взять отсюда папки</a></body>

в папку *\variants\ скопировать папку:
*\pins_atmega8\

в папку со скетчами скопировать папку:
*\MK-85_CD4094BE_ATmega8_OLED1602\

перезагрузить Arduino IDE, выбрать плату "ATmega8 - 8MHz", выбрать программатор,
открыть скетч, загрузить с помощью программатора.


<body link="#44CC00" alink="#44CC00" vlink="#44CC00"><a href="https://github.com/Klapautsiy/The-display-for-Elektronika-MK-85/issues/new">вопросы можно задавать сюда</a></body>
------------------------------------------------------

<iframe width="480" height="360" src="https://www.youtube.com/embed/qArIKbkMosQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>

</pre>

</body>

</html>
